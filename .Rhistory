dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(newplate = substr(plate_number, 7,8)) %>%
mutate(newcolumn = gsub("[^0-9.-]","",location)) %>%
mutate(newrow = gsub("[[:digit:]]","",location))
knitr::opts_chunk$set(echo = TRUE)
```{r}
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers, -plate_number, -location) %>%
left_join(tips_consensus) %>%
mutate(newplate = substr(plate_number, 7,8)) %>%
mutate(newcolumn = gsub("[^0-9.-]","",location)) %>%
mutate(newrow = gsub("[[:digit:]]","",location))
knitr::opts_chunk$set(echo = TRUE)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
left_join(tips_consensus) %>%
mutate(newplate = substr(plate_number, 7,8)) %>%
mutate(newcolumn = gsub("[^0-9.-]","",location)) %>%
mutate(newrow = gsub("[[:digit:]]","",location)) %>%
dplyr::select(-plate, -plate_numbers, -plate_number, -location)
knitr::opts_chunk$set(echo = TRUE)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
left_join(tips_consensus) %>%
mutate(newplate = substr(plate_number, 7,8)) %>%
mutate(newcolumn = gsub("[^0-9.-]","",location)) %>%
mutate(newrow = gsub("[[:digit:]]","",location)) %>%
dplyr::select(-plate, -plate_numbers, -plate_number, -location, -urn)
master_contigs = read.csv(here("data", "tipstosequence_may2022.csv")) %>%
clean_names()
sample_locations = read_csv(here("data", "tips_plate30_31_32.csv"))
joined_locations = master_contigs %>%
left_join(sample_locations) %>%
mutate(newplate = substr(newplate, 5, 6)) %>%
select(-pcr_plate, -pcr_column, -pcr_row, -x)
sanger_sheet = dest_tips %>%
left_join(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
left_join(tips_consensus) %>%
mutate(newplate = substr(plate_number, 7,8)) %>%
mutate(newcolumn = gsub("[^0-9.-]","",location)) %>%
mutate(newcolumn = as.character(newcolumn)) %>%
mutate(newrow = gsub("[[:digit:]]","",location)) %>%
dplyr::select(-plate, -plate_numbers, -plate_number, -location, -urn)
master_contigs = read.csv(here("data", "tipstosequence_may2022.csv")) %>%
clean_names()
sample_locations = read_csv(here("data", "tips_plate30_31_32.csv"))
joined_locations = master_contigs %>%
left_join(sample_locations) %>%
mutate(newplate = substr(newplate, 5, 6)) %>%
select(-pcr_plate, -pcr_column, -pcr_row, -x)
sanger_sheet = dest_tips %>%
left_join(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
left_join(tips_consensus) %>%
mutate(newplate = substr(plate_number, 7,8)) %>%
mutate(newcolumn = gsub("[^0-9.-]","",location)) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(newrow = gsub("[[:digit:]]","",location)) %>%
dplyr::select(-plate, -plate_numbers, -plate_number, -location, -urn)
master_contigs = read.csv(here("data", "tipstosequence_may2022.csv")) %>%
clean_names()
sample_locations = read_csv(here("data", "tips_plate30_31_32.csv"))
joined_locations = master_contigs %>%
left_join(sample_locations) %>%
mutate(newplate = substr(newplate, 5, 6)) %>%
select(-pcr_plate, -pcr_column, -pcr_row, -x)
sanger_sheet = dest_tips %>%
left_join(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
left_join(tips_consensus) %>%
mutate(newplate = substr(plate_number, 7,8)) %>%
mutate(newcolumn = gsub("[^0-9.-]","",location)) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(newrow = gsub("[[:digit:]]","",location)) %>%
dplyr::select(-plate, -plate_numbers, -plate_number, -location, -urn)
master_contigs = read.csv(here("data", "tipstosequence_may2022.csv")) %>%
clean_names()
sample_locations = read_csv(here("data", "tips_plate30_31_32.csv"))
joined_locations = master_contigs %>%
left_join(sample_locations) %>%
mutate(newplate = substr(newplate, 5, 6)) %>%
mutate(seedling_id = as.double(seedling_id)) %>%
select(-pcr_plate, -pcr_column, -pcr_row, -x)
sanger_sheet = dest_tips %>%
left_join(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
left_join(tips_consensus) %>%
mutate(newplate = substr(plate_number, 7,8)) %>%
mutate(newcolumn = gsub("[^0-9.-]","",location)) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(newrow = gsub("[[:digit:]]","",location)) %>%
dplyr::select(-plate, -plate_numbers, -plate_number, -location, -urn)
master_contigs = read.csv(here("data", "tipstosequence_may2022.csv")) %>%
clean_names()
sample_locations = read_csv(here("data", "tips_plate30_31_32.csv"))
joined_locations = master_contigs %>%
left_join(sample_locations) %>%
mutate(newplate = substr(newplate, 5, 6)) %>%
mutate(seedling_id = as.character(seedling_id)) %>%
select(-pcr_plate, -pcr_column, -pcr_row, -x)
sanger_sheet = dest_tips %>%
left_join(joined_locations)
'spec()'
knitr::opts_chunk$set(echo = TRUE)
sanger_sheet = dest_tips %>%
full_join(joined_locations)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
left_join(tips_consensus) %>%
mutate(newplate = substr(plate_number, 7,8)) %>%
mutate(newcolumn = gsub("[^0-9.-]","",location)) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(newrow = gsub("[[:digit:]]","",location)) %>%
dplyr::select(-plate, -plate_numbers, -plate_number, -location, -urn)
master_contigs = read.csv(here("data", "tipstosequence_may2022.csv")) %>%
clean_names()
sample_locations = read_csv(here("data", "tips_plate30_31_32.csv"))
joined_locations = master_contigs %>%
left_join(sample_locations) %>%
mutate(newplate = substr(newplate, 5, 6)) %>%
select(-pcr_plate, -pcr_column, -pcr_row, -x)
sanger_sheet = dest_tips %>%
full_join(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
sanger_sheet = dest_tips %>%
right_join(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
sanger_sheet = dest_tips %>%
merge(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
sanger_sheet = dest_tips %>%
outer_join(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
sanger_sheet = dest_tips %>%
full_join(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
sanger_sheet = merge(x=dest_tips, y=joined_locations, by="newplate", "newcolumn", "newrow", all=TRUE)
knitr::opts_chunk$set(echo = TRUE)
sanger_sheet = dest_tips %>%
full_join(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
joined_locations = master_contigs %>%
left_join(sample_locations) %>%
mutate(newplate = substr(newplate, 5, 6)) %>%
mutate(sp = as.double(sp)) %>%
select(-pcr_plate, -pcr_column, -pcr_row, -x)
sanger_sheet = dest_tips %>%
full_join(joined_locations)
knitr::opts_chunk$set(echo = TRUE)
joined_locations = master_contigs %>%
left_join(sample_locations) %>%
mutate(newplate = substr(newplate, 5, 6)) %>%
select(-pcr_plate, -pcr_column, -pcr_row, -x)
knitr::opts_chunk$set(echo = TRUE)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
#library(metagenomeSeq)
#library(lubridate)
#library(calecopal)
#library(ape)
#library(bioseq)
#library(dada2)
#library(matrixStats)
library(here)
library(janitor)
library(vegan)
library(tidyverse)
library(bioseq)
library(phyloseq)
library(kmer)
library(dada2)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(plate_number = newplate) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(column = newcolumn) %>%
mutate(row = gsub("[[:digit:]]","",location)) %>%
rename(row = newrow)
knitr::opts_chunk$set(echo = TRUE)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(row = gsub("[[:digit:]]","",location)) %>%
rename(newrow = row)
master_contigs = read.csv(here("data", "tipstosequence_may2022.csv")) %>%
clean_names()
sample_locations = read_csv(here("data", "tips_plate30_31_32.csv"))
sanger_sheet = master_contigs %>%
left_join(sample_locations) %>%
mutate(newplate = substr(newplate, 5, 6)) %>%
select(-pcr_plate, -pcr_column, -pcr_row, -x)
left_join(dest_tips, sanger_sheet)
knitr::opts_chunk$set(echo = TRUE)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn))
left_join(dest_tips, sanger_sheet)
mutate(row = gsub("[[:digit:]]","",location)) %>%
rename(newrow = row)
knitr::opts_chunk$set(echo = TRUE)
mutate(row = gsub("[[:digit:]]","",location)) %>%
mutate(row = as.double(row)) %>%
rename(newrow = row)
knitr::opts_chunk$set(echo = TRUE)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn))
mutate(row = gsub("[[:digit:]]","",location)) %>%
rename(newrow = row) %>%
mutate(newrow = as.double(newrow))
mutate(row = gsub("[[:digit:]]","",location))
knitr::opts_chunk$set(echo = TRUE)
mutate(row = gsub("[[:digit:]]",location))
knitr::opts_chunk$set(echo = TRUE)
mutate(row = gsub("[[:digit:]]","",location))
knitr::opts_chunk$set(echo = TRUE)
mutate(row = substr(location, 2,3)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
knitr::opts_chunk$set(echo = TRUE)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn))
mutate(row = substr(location, 2,3)) %>%
rename(newrow = row) %>%
mutate(newrow = as.double(newrow))
mutate(row = substr(location, 2,3))
mutate(newcolumn = as.double(newcolumn))
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn))
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn))
mutate(row = substr(location, 2,3))
knitr::opts_chunk$set(echo = TRUE)
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(location = as.double(location)) %>%
mutate(row = substr(location, 2,3)) %>%
rename(newrow = row) %>%
mutate(newrow = as.double(newrow))
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(location = as.double(location)) %>%
mutate(row = substr(location, 2,3)) %>%
rename(newrow = row) %>%
mutate(newrow = as.double(newrow))
knitr::opts_chunk$set(echo = TRUE)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(location = as.character(location)) %>%
mutate(row = substr(location, 2,3)) %>%
rename(newrow = row) %>%
mutate(newrow = as.double(newrow))
knitr::opts_chunk$set(echo = TRUE)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(location = as.character(location)) %>%
mutate(row = substr(location, 2,3)) %>%
rename(newrow = row)
knitr::opts_chunk$set(echo = TRUE)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(location = as.character(location)) %>%
mutate(row = substr(location, -1)) %>%
rename(newrow = row)
knitr::opts_chunk$set(echo = TRUE)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(location = as.character(location)) %>%
mutate(row = stri_sub(location, -1)) %>%
rename(newrow = row)
knitr::opts_chunk$set(echo = TRUE)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(location = as.character(location)) %>%
mutate(row = sub("[^[:alpha:]]+", "", location)) %>%
rename(newrow = row)
left_join(dest_tips, sanger_sheet)
knitr::opts_chunk$set(echo = TRUE)
contigs.old.new.locations = left_join(dest_tips, sanger_sheet)
contigs.old.new.locations = left_join(dest_tips, sanger_sheet)
tips_consensus = read_csv(here("data", "tip_seqs","destructive", "june_22_consensus.csv")) %>%
clean_names() %>%
dplyr::select(name, sequence) %>%
rename(sequence_list_name = name)
dest_tips = read_csv(here("data", "tip_seqs","destructive", "june_22_contigs.csv")) %>%
clean_names() %>%
separate(name, c("plate", "plate_numbers", "location")) %>%
mutate(plate_number = paste(plate, plate_numbers, sep = "-")) %>%
relocate(plate_number) %>%
dplyr::select(-plate, -plate_numbers) %>%
left_join(tips_consensus) %>%
mutate(plate_number = substr(plate_number, 7,8)) %>%
rename(newplate = plate_number) %>%
mutate(column = gsub("[^0-9.-]","",location)) %>%
rename(newcolumn = column) %>%
mutate(newcolumn = as.double(newcolumn)) %>%
mutate(location = as.character(location)) %>%
mutate(row = sub("[^[:alpha:]]+", "", location)) %>%
rename(newrow = row)
master_contigs = read.csv(here("data", "tipstosequence_may2022.csv")) %>%
clean_names()
sample_locations = read_csv(here("data", "tips_plate30_31_32.csv"))
sanger_sheet = master_contigs %>%
left_join(sample_locations) %>%
mutate(newplate = substr(newplate, 5, 6)) %>%
select(-pcr_plate, -pcr_column, -pcr_row, -x)
contigs.old.new.locations = left_join(dest_tips, sanger_sheet)
View(contigs.old.new.locations)
knitr::opts_chunk$set(echo = TRUE)
contigs.old.new.locations = full_join(dest_tips, sanger_sheet)
contigs.old.new.locations = full_join(dest_tips, sanger_sheet)
View(contigs.old.new.locations)
